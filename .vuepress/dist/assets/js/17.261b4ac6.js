(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{54:function(t,a,s){t.exports=s.p+"assets/img/m1.34cb0319.png"},72:function(t,a,s){"use strict";s.r(a);var n=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"环境模式与测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境模式与测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境模式与测试")]),n("p",[t._v("app 的环境总共分为以下几种")]),n("h2",{attrs:{id:"环境及对应启动命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#环境及对应启动命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 环境及对应启动命令")]),n("h3",{attrs:{id:"开发环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开发环境","aria-hidden":"true"}},[t._v("#")]),t._v(" 开发环境")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 会启动一个本地服务")]),t._v("\n")])]),n("h3",{attrs:{id:"本地开发测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#本地开发测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地开发测试")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev-test\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 会打包资源到dist并起一个本地服务")]),t._v("\n")])]),n("h3",{attrs:{id:"内网打包测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内网打包测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 内网打包测试")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("# 很少使用一般使用本地开发测试切换代理地址")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build-staging\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 会打包资源到dist（交给原生）")]),t._v("\n")])]),n("h3",{attrs:{id:"线上打包测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#线上打包测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 线上打包测试")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 会打包资源到dist（交给原生）")]),t._v("\n")])]),n("h3",{attrs:{id:"发布上线打包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#发布上线打包","aria-hidden":"true"}},[t._v("#")]),t._v(" 发布上线打包")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build-release\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 会打包资源到dist（交给原生）")]),t._v("\n")])]),n("h2",{attrs:{id:"代理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代理","aria-hidden":"true"}},[t._v("#")]),t._v(" 代理")]),n("p",[t._v("在使用 开发环境 或 本地开发测试 时\n在vue.config.js里 proxy 里切换代理地址")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// 代理")]),t._v("\n    proxy"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token string"}},[t._v("'/store'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// target: 'http://192.168.2.201:8091', // 金俊")]),t._v("\n        target"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'http://192.168.2.138:8091'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 吴敏")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// target: 'http://192.168.2.242:8091', // 测试")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// target: 'http://dp.51chebian.com', // 线上")]),t._v("\n        "),n("span",{attrs:{class:"token comment"}},[t._v("// target: 'http://120.79.169.8:19381', // 线上测试")]),t._v("\n        changeOrigin"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("true")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("h2",{attrs:{id:"对外模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对外模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 对外模式")]),n("p",[t._v("对外分为开发模式，测试模式和生产模式")]),n("h3",{attrs:{id:"开发模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开发模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 开发模式")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("# 此命令对应的开发模式")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 端口默认8080可能会变")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev\n\n")])]),n("h3",{attrs:{id:"测试默认"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试默认","aria-hidden":"true"}},[t._v("#")]),t._v(" 测试默认")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("# 对应的都是测试模式")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 端口3099")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev-test\n"),n("span",{attrs:{class:"token comment"}},[t._v("# 无端口")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build-staging\n")])]),n("h3",{attrs:{id:"生产模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生产模式","aria-hidden":"true"}},[t._v("#")]),t._v(" 生产模式")]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n"),n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build-release\n")])]),n("h3",{attrs:{id:"对外模式主要用于测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#对外模式主要用于测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 对外模式主要用于测试")]),n("p",[t._v("便于复测和定位问题")]),n("p",[t._v("如图")]),n("p",[n("img",{attrs:{src:s(54),alt:""}})]),n("p",[t._v("能让测试人员清楚当前的版本及模式，如果没有此标签则说明是生产模式")]),n("h3",{attrs:{id:"提交bug"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提交bug","aria-hidden":"true"}},[t._v("#")]),t._v(" 提交bug")]),n("p",[t._v("1.在测试模式下测试\n2.提交内容包含如上截图\n3.原生问题提交给对应的开发")]),n("h3",{attrs:{id:"关于h5版本号的作用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#关于h5版本号的作用","aria-hidden":"true"}},[t._v("#")]),t._v(" 关于h5版本号的作用")]),n("ol",[n("li",[n("p",[t._v("前面3位版本号与平台版本号保持一致")])]),n("li",[n("p",[t._v("后面的build号为每次合并代码执行"),n("code",[t._v("npm run dev-test")]),t._v("的时候会 "),n("code",[t._v("+1")])])]),n("li",[n("p",[t._v("禅道上的版本号以h5版本号为主，因为h5版本号不存在平台差异")])]),n("li",[n("p",[t._v("开发在修复bug后以当前最新的h5版本号为基础"),n("code",[t._v("+1")]),t._v("，如当前h5版本号为"),n("code",[t._v("3.2.2.50")]),t._v("修复bug后点击解决的版本为"),n("code",[t._v("3.2.2.51")])])]),n("li",[n("p",[t._v("测试人员在回归bug的时候 如果发现最新的版本为"),n("code",[t._v("3.2.2.50")]),t._v(",解决的版本为"),n("code",[t._v("3.2.2.51")]),t._v("就说明代码还没发布，如果发现版本为"),n("code",[t._v("3.2.2.51")]),t._v("或更高则证明已经修复过。")])])])])}],e=s(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);a.default=r.exports}}]);